<template>
  <div class="survey-main">
    <header class="header">
      <img class="logo" :src="logo" alt="ë¡œê³ " />
    </header>

    <section class="intro">
      <h1>íˆ¬ì ì„±í–¥ ë¶„ì„ ì„œë¹„ìŠ¤</h1>
      <p class="note">*ë³¸ ì„œë¹„ìŠ¤ëŠ” ê³ ê°ë‹˜ì˜ ê¸°ë³¸ì ì¸ ì •ë³´ë¥¼ ì…ë ¥ë°›ìŠµë‹ˆë‹¤.*</p>
      <p class="description">
        ì´ëŠ” ê³ ê°ë‹˜ì˜ íˆ¬ììŠ¤íƒ€ì¼, íˆ¬ìì„±í–¥, íˆ¬ìì—¬ê±´ì„ ì •í™•í•˜ê²Œ íŒŒì•…í•˜ê¸° ìœ„í•œ ê²ƒìœ¼ë¡œ,<br />
        <strong>â€˜ì‚¬ìš©ì íŠ¹í™” ê¸ˆìœµìƒí’ˆ ì¶”ì²œâ€™</strong> ë°
        <strong>â€˜ë‚˜ì˜ WMTI íˆ¬ììŠ¤íƒ€ì¼ì€?â€™</strong> ë“±ì˜ ê¸°ëŠ¥ì„ ìœ„í•´ ì„¤ë¬¸ì— ì‘í•´ì£¼ì„¸ìš”.
      </p>
    </section>

    <section class="step-card">
      <div class="step-header">
        <div class="step-icon">1</div>
        <span>ê¸°ë³¸ì •ë³´ / íˆ¬ìëª©ì </span>
      </div>
      <button class="step-button" @click="goToPreInfo">ì‹œì‘í•˜ê¸°</button>
    </section>

    <section class="step-card" :class="{ disabled: !step2Enabled }">
      <div class="step-header">
        <div class="step-icon">2</div>
        <span>ë‚˜ì˜ WMTI ê²€ì‚¬í•˜ê¸°</span>
      </div>
      <button class="step-button" :disabled="!step2Enabled" @click="goToSurvey">ê²€ì‚¬í•˜ê¸°</button>
    </section>
  </div>
</template>

<script>
import logo from '../../assets/images/logo.png';

export default {
  name: 'BasicSurvey',
  data() {
    return {
      step2Enabled: false,
      logo,
    };
  },
  created() {
    // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ë˜ëŠ” ê¸€ë¡œë²Œ ìƒíƒœì—ì„œ ì‚¬ì „ì •ë³´ ì…ë ¥ ì—¬ë¶€ í™•ì¸
    const preinfoDone = localStorage.getItem('preinfoSubmitted');
    this.step2Enabled = preinfoDone === 'true';
    console.log('ğŸ” BasicSurvey mounted!');
  },
  methods: {
    goToPreInfo() {
      this.$router.push('/wmti/preinfo');
    },
    goToSurvey() {
      this.$router.push('/wmti/survey'); // ë˜ëŠ” '/wmti/start'
    },
  },
};
</script>

<style scoped>
.survey-main {
  max-width: 26.875rem; /* 430px */
  margin: 0 auto;
  padding: 1.5rem 1rem;
  font-family: 'Inter', sans-serif;
}

.header {
  text-align: left;
  margin-bottom: 2rem;
}

.logo {
  height: 2.5rem;
}

.intro h1 {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.note {
  font-size: 0.875rem;
  color: #7d81a2;
}

.description {
  font-size: 0.875rem;
  line-height: 1.5;
  margin-top: 0.5rem;
  color: #333;
}

.step-card {
  background-color: #ffffff;
  border: 2px solid #eeeef3;
  border-radius: 1rem;
  box-shadow: 0 4px 12px #0000001a;
  padding: 1.25rem;
  margin-top: 1.5rem;
}

.step-card.disabled {
  opacity: 0.5;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
  font-weight: 600;
  font-size: 1rem;
}

.step-icon {
  width: 1.75rem;
  height: 1.75rem;
  background-color: #7d81a2;
  color: white;
  border-radius: 50%;
  text-align: center;
  line-height: 1.75rem;
  font-size: 1rem;
  font-weight: bold;
}

.step-button {
  width: 100%;
  background-color: #7d81a2;
  color: white;
  padding: 0.75rem;
  font-size: 1rem;
  font-weight: 600;
  border: none;
  border-radius: 0.5rem;
  cursor: pointer;
}

.step-button:disabled {
  background-color: #cccccc;
  cursor: not-allowed;
}
</style>
